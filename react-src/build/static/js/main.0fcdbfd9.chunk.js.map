{"version":3,"sources":["components/FormUser/FormUser.js","components/ModalUser/ModalUser.js","components/ModalConfirmDelete/ModalConfirmDelete.js","components/TableUser/TableUser.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["genderOptions","key","text","value","FormUser","props","state","name","email","age","gender","formClassName","formSuccessMessage","formErrorMessage","handleInputChange","bind","handleSelectChange","handleSubmit","this","userID","axios","get","server","then","response","setState","data","catch","err","console","log","e","target","type","checked","preventDefault","user","method","params","responseType","url","msg","onUserUpdated","result","socket","emit","onUserAdded","Form","className","onSubmit","Input","label","placeholder","maxLength","required","onChange","Group","widths","min","max","Field","control","Select","options","Message","success","color","header","content","warning","Button","buttonColor","floated","buttonSubmitTitle","Component","ModalUser","Modal","trigger","buttonTriggerTitle","dimmer","size","closeIcon","Header","headerTitle","Content","ModalConfirmDelete","handleOpen","modalOpen","handleClose","getAttribute","onUserDeleted","onClick","open","onClose","Actions","_id","TableUser","users","map","Table","Row","Cell","reverse","singleLine","HeaderCell","Body","App","io","connect","online","fetchUsers","handleUserAdded","handleUserUpdated","handleUserDeleted","on","slice","push","i","findIndex","u","length","filter","peopleOnline","onlineText","Container","id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0fcdbfd9.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Message, Button, Form, Select } from 'semantic-ui-react';\nimport axios from 'axios';\n\nconst genderOptions = [\n  { key: 'm', text: 'Male', value: 'm' },\n  { key: 'f', text: 'Female', value: 'f' },\n  { key: 'o', text: 'Do Not Disclose', value: 'o' }\n]\n\nclass FormUser extends Component {\n\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      name: '',\n      email: '',\n      age: '',\n      gender: '',\n      formClassName: '',\n      formSuccessMessage: '',\n      formErrorMessage: ''\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillMount() {\n    // Fill in the form with the appropriate data if user id is provided\n    if (this.props.userID) {\n      axios.get(`${this.props.server}/api/users/${this.props.userID}`)\n      .then((response) => {\n        this.setState({\n          name: response.data.name,\n          email: response.data.email,\n          age: response.data.age ?? '',\n          gender: response.data.gender,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    }\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({ [name]: value });\n  }\n\n  handleSelectChange(e, data) {\n    this.setState({ gender: data.value });\n  }\n\n  handleSubmit(e) {\n    // Prevent browser refresh\n    e.preventDefault();\n\n    const user = {\n      name: this.state.name,\n      email: this.state.email,\n      age: this.state.age,\n      gender: this.state.gender\n    }\n\n    // Acknowledge that if the user id is provided, we're updating via PUT\n    // Otherwise, we're creating a new data via POST\n    const method = this.props.userID ? 'put' : 'post';\n    const params = this.props.userID ? this.props.userID : '';\n\n    axios({\n      method: method,\n      responseType: 'json',\n      url: `${this.props.server}/api/users/${params}`,\n      data: user\n    })\n    .then((response) => {\n      this.setState({\n        formClassName: 'success',\n        formSuccessMessage: response.data.msg\n      });\n\n      if (!this.props.userID) {\n        this.setState({\n          name: '',\n          email: '',\n          age: '',\n          gender: ''\n        });\n        this.props.onUserAdded(response.data.result);\n        this.props.socket.emit('add', response.data.result);\n      }\n      else {\n        this.props.onUserUpdated(response.data.result);\n        this.props.socket.emit('update', response.data.result);\n      }\n      \n    })\n    .catch((err) => {\n      if (err.response) {\n        if (err.response.data) {\n          this.setState({\n            formClassName: 'warning',\n            formErrorMessage: err.response.data.msg\n          });\n        }\n      }\n      else {\n        this.setState({\n          formClassName: 'warning',\n          formErrorMessage: 'Something went wrong. ' + err\n        });\n      }\n    });\n  }\n\n  render() {\n\n    const formClassName = this.state.formClassName;\n    const formSuccessMessage = this.state.formSuccessMessage;\n    const formErrorMessage = this.state.formErrorMessage;\n\n    return (\n      <Form className={formClassName} onSubmit={this.handleSubmit}>\n        <Form.Input\n          label='Name'\n          type='text'\n          placeholder='Md Talib'\n          name='name'\n          maxLength='40'\n          required\n          value={this.state.name}\n          onChange={this.handleInputChange}\n        />\n        <Form.Input\n          label='Email'\n          type='email'\n          placeholder='mdtalibansari@gmail.com'\n          name='email'\n          maxLength='40'\n          required\n          value={this.state.email}\n          onChange={this.handleInputChange}\n        />\n        <Form.Group widths='equal'>\n          <Form.Input\n            label='Age'\n            type='number'\n            placeholder='20'\n            min={5}\n            max={130}\n            name='age'\n            value={this.state.age}\n            onChange={this.handleInputChange}\n          />\n          <Form.Field\n            control={Select}\n            label='Gender'\n            options={genderOptions}\n            placeholder='Gender'\n            value={this.state.gender}\n            onChange={this.handleSelectChange}\n          />\n        </Form.Group>\n        <Message\n          success\n          color='green'\n          header='Nice one!'\n          content={formSuccessMessage}\n        />\n        <Message\n          warning\n          color='yellow'\n          header='Woah!'\n          content={formErrorMessage}\n        />\n        <Button color={this.props.buttonColor} floated='right'>{this.props.buttonSubmitTitle}</Button>\n        <br /><br /> {/* Yikes! Deal with Semantic UI React! */}\n      </Form>\n    );\n  }\n}\n\nexport default FormUser;\n","import React, { Component } from 'react';\nimport { Button, Modal } from 'semantic-ui-react';\n\nimport FormUser from '../FormUser/FormUser';\n\nclass ModalUser extends Component {\n\n  render() {\n    return (\n      <Modal\n        trigger={<Button color={this.props.buttonColor}>{this.props.buttonTriggerTitle}</Button>}\n        dimmer='inverted'\n        size='tiny'\n        closeIcon='close'\n      >\n        <Modal.Header>{this.props.headerTitle}</Modal.Header>\n        <Modal.Content>\n          <FormUser\n            buttonSubmitTitle={this.props.buttonSubmitTitle}\n            buttonColor={this.props.buttonColor}\n            userID={this.props.userID}\n            onUserAdded={this.props.onUserAdded}\n            onUserUpdated={this.props.onUserUpdated}\n            server={this.props.server}\n            socket={this.props.socket}\n          />\n        </Modal.Content>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalUser;\n","import React, { Component } from 'react';\nimport { Button, Modal } from 'semantic-ui-react';\nimport axios from 'axios';\n\nclass ModalConfirmDelete extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state ={\n      modalOpen: false\n    }\n\n    this.handleOpen = this.handleOpen.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleOpen = e => this.setState({ modalOpen: true });\n  handleClose = e => this.setState({ modalOpen: false });\n\n  handleSubmit(e) {\n\n    let params = e.target.getAttribute('data-userID');\n\n    axios({\n      method: 'delete',\n      responseType: 'json',\n      url: `${this.props.server}/api/users/${params}`,\n    })\n    .then((response) => {\n      this.handleClose();\n      this.props.onUserDeleted(response.data.result);\n      this.props.socket.emit('delete', response.data.result);\n    })\n    .catch((err) => {\n      this.handleClose();\n      throw err;\n    });\n  }\n\n  render() {\n    return (\n      <Modal\n        trigger={<Button onClick={this.handleOpen} color={this.props.buttonColor}>{this.props.buttonTriggerTitle}</Button>}\n        open={this.state.modalOpen}\n        onClose={this.handleClose}\n        dimmer='inverted'\n        size='tiny'\n      >\n        <Modal.Header>{this.props.headerTitle}</Modal.Header>\n        <Modal.Content>\n          <p>Are you sure you want to delete <strong>{this.props.user.name}</strong>?</p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.handleSubmit} data-userID={this.props.user._id} color='red'>Yes</Button>\n          <Button onClick={this.handleClose} color='yellow'>No</Button>\n          </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalConfirmDelete;\n","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react';\n\nimport ModalUser from '../ModalUser/ModalUser';\nimport ModalConfirmDelete from '../ModalConfirmDelete/ModalConfirmDelete';\n\nclass TableUser extends Component {\n\n  render() {\n\n    let users = this.props.users;\n\n    users = users.map((user) => \n      <Table.Row key={user._id}>\n        <Table.Cell>{user.name}</Table.Cell>\n        <Table.Cell>{user.email}</Table.Cell>\n        <Table.Cell>{user.age}</Table.Cell>\n        <Table.Cell>{user.gender}</Table.Cell>\n        <Table.Cell>\n          <ModalUser\n            headerTitle='Edit User'\n            buttonTriggerTitle='Edit'\n            buttonSubmitTitle='Save'\n            buttonColor='green'\n            userID={user._id}\n            onUserUpdated={this.props.onUserUpdated}\n            server={this.props.server}\n            socket={this.props.socket}\n          />\n          <ModalConfirmDelete\n            headerTitle='Delete User'\n            buttonTriggerTitle='Delete'\n            buttonColor='black'\n            user={user}\n            onUserDeleted={this.props.onUserDeleted}\n            server={this.props.server}\n            socket={this.props.socket}\n          />\n        </Table.Cell>\n      </Table.Row>\n    );\n\n    // Make every new user appear on top of the list\n    users =  [...users].reverse();\n\n    return (\n      <Table singleLine>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n            <Table.HeaderCell>Email</Table.HeaderCell>\n            <Table.HeaderCell>Age</Table.HeaderCell>\n            <Table.HeaderCell>Gender</Table.HeaderCell>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {users}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nexport default TableUser;\n","import React, { useEffect, Component } from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\n\nimport TableUser from \"../TableUser/TableUser\";\nimport ModalUser from \"../ModalUser/ModalUser\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    // this.server = process.env.REACT_APP_API_URL || '';\n    // REACT_APP_API_URL=\n    // this.server = \"http://127.0.0.1:3000\" || \"\";\n    this.server = `https://backendapi-88g7.onrender.com` || \"\";\n    this.socket = io.connect(this.server);\n\n    this.state = {\n      users: [],\n      online: 0,\n    };\n\n    this.fetchUsers = this.fetchUsers.bind(this);\n    this.handleUserAdded = this.handleUserAdded.bind(this);\n    this.handleUserUpdated = this.handleUserUpdated.bind(this);\n    this.handleUserDeleted = this.handleUserDeleted.bind(this);\n  }\n\n  // Place socket.io code inside here\n  componentDidMount() {\n    this.fetchUsers();\n    this.socket.on(\"visitor enters\", (data) => this.setState({ online: data }));\n    this.socket.on(\"visitor exits\", (data) => this.setState({ online: data }));\n    this.socket.on(\"add\", (data) => this.handleUserAdded(data));\n    this.socket.on(\"update\", (data) => this.handleUserUpdated(data));\n    this.socket.on(\"delete\", (data) => this.handleUserDeleted(data));\n  }\n\n  // Fetch data from the back-end\n  fetchUsers() {\n    axios\n      .get(`${this.server}/api/users/`)\n      .then((response) => {\n        this.setState({ users: response.data });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  handleUserAdded(user) {\n    let users = this.state.users.slice();\n    users.push(user);\n    this.setState({ users: users });\n  }\n\n  handleUserUpdated(user) {\n    let users = this.state.users.slice();\n\n    let i = users.findIndex((u) => u._id === user._id);\n\n    if (users.length > i) {\n      users[i] = user;\n    }\n\n    this.setState({ users: users });\n  }\n\n  handleUserDeleted(user) {\n    let users = this.state.users.slice();\n    users = users.filter((u) => {\n      return u._id !== user._id;\n    });\n    this.setState({ users: users });\n  }\n\n  render() {\n    let peopleOnline = this.state.online - 1;\n    let onlineText = \"\";\n\n    if (peopleOnline < 1) {\n      onlineText = \"Everyone is offline.\";\n    } else {\n      onlineText =\n        peopleOnline > 1\n          ? `${this.state.online - 1} people are online`\n          : `${this.state.online - 1} person is online`;\n    }\n\n    return (\n      <div>\n        <div className=\"App\">\n          <div className=\"App-header\">\n            <h1 className=\"App-intro\">CRUD APP</h1>\n          </div>\n        </div>\n        <Container>\n          <ModalUser\n            headerTitle=\"Add User\"\n            buttonTriggerTitle=\"Add New\"\n            buttonSubmitTitle=\"Add\"\n            buttonColor=\"pink\"\n            onUserAdded={this.handleUserAdded}\n            server={this.server}\n            socket={this.socket}\n          />\n          <em id=\"online\">{onlineText}</em>\n          <div className=\"tableUser\">\n            <TableUser\n              onUserUpdated={this.handleUserUpdated}\n              onUserDeleted={this.handleUserDeleted}\n              users={this.state.users}\n              server={this.server}\n              socket={this.socket}\n            />\n          </div>\n        </Container>\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\n\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}